# Конвертер учебного конфигурационного языка в TOML

Инструмент командной строки для преобразования текста из учебного конфигурационного языка в формат TOML.

## Общее описание

Этот инструмент выполняет лексический и синтаксический анализ входного текста на учебном конфигурационном языке и преобразует его в валидный TOML файл. Поддерживаются числа, строки, массивы, словари и константы с вычислением на этапе трансляции.

## Описание функций и настроек

### Основные компоненты

- **Lexer** (`config_parser.py`) - выполняет токенизацию входного текста
- **Parser** (`config_parser.py`) - выполняет синтаксический анализ и построение AST
- **Converter** (`toml_converter.py`) - преобразует AST в формат TOML
- **CLI** (`main.py`) - интерфейс командной строки

### Поддерживаемые конструкции

1. **Числа**: целые, с плавающей точкой, в научной нотации
   - Примеры: `42`, `3.14`, `1.5e10`, `-10`

2. **Строки**: в двойных кавычках с поддержкой escape-последовательностей
   - Пример: `"Hello world"`

3. **Булевы значения**: `true` и `false`
   - Пример: `enabled => true`

4. **Массивы**: `array( значение, значение, ... )`
   - Пример: `array(1, 2, "three")`

5. **Словари**: `[ имя => значение, ... ]`
   - Пример: `[ name => "John", age => 30 ]`

6. **Константы**: 
   - Объявление: `let имя = значение`
   - Использование: `#{имя}`

7. **Идентификаторы**: начинаются с `_` или буквы (a-z, A-Z)
   - Примеры: `MyVar`, `_private`, `CONSTANT_123`, `name`

## Команды для сборки проекта и запуска тестов

### Установка зависимостей

```bash
pip install -r requirements.txt
```

Или с использованием виртуального окружения:

```bash
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# или
venv\Scripts\activate  # Windows
pip install -r requirements.txt
```

### Запуск тестов

```bash
python3 test_parser.py
```

Или с использованием pytest (если установлен):

```bash
pytest test_parser.py -v
```

### Использование CLI

```bash
python3 main.py -o output.toml < input.txt
```

Или с использованием pipe:

```bash
echo '42' | python3 main.py -o output.toml
```

## Примеры использования

### Пример 1: Простое число

Входной файл:
```
42
```

Команда:
```bash
python3 main.py -o output.toml < input.txt
```

Выходной файл `output.toml`:
```toml
value = 42
```

### Пример 2: Словарь с вложенными значениями

Входной файл:
```
[
  name => "John",
  age => 30,
  scores => array(85, 90, 78)
]
```

Выходной файл:
```toml
name = "John"
age = 30
scores = [85, 90, 78]
```

### Пример 3: Использование констант

Входной файл:
```
let MaxUsers = 100
let AppName = "MyApp"

[
  app => #{AppName},
  max_users => #{MaxUsers}
]
```

Выходной файл:
```toml
app = "MyApp"
max_users = 100
```

### Пример 4: Использование готовых конфигураций

В проекте включены 3 примера конфигураций из разных предметных областей:

1. **Конфигурация базы данных** (`examples/database_config.txt`):
```bash
python3 main.py -o db.toml < examples/database_config.txt
```

2. **Конфигурация веб-сервера** (`examples/web_server_config.txt`):
```bash
python3 main.py -o server.toml < examples/web_server_config.txt
```

3. **Конфигурация игры** (`examples/game_config.txt`):
```bash
python3 main.py -o game.toml < examples/game_config.txt
```

Все примеры демонстрируют использование всех конструкций языка: константы, вложенные словари, массивы, различные типы данных.

